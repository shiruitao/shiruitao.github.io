<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Personal Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="personal blog">
<meta property="og:type" content="website">
<meta property="og:title" content="Personal Blog">
<meta property="og:url" content="shiruitao.github.io/index.html">
<meta property="og:site_name" content="Personal Blog">
<meta property="og:description" content="personal blog">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Personal Blog">
<meta name="twitter:description" content="personal blog">
  
    <link rel="alternate" href="/atom.xml" title="Personal Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Personal Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">personal blog</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="shiruitao.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-golang的strings原码" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/01/27/golang的strings原码/" class="article-date">
  <time datetime="2018-01-27T08:01:47.000Z" itemprop="datePublished">2018-01-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/01/27/golang的strings原码/">golang的strings原码</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="strings-go"><a href="#strings-go" class="headerlink" title="strings.go"></a>strings.go</h2><hr>
<ol>
<li><p>Count<br>计算字符串sep在s中的非重叠个数<br>如果sep为””,返回s的字符个数+1<br>func Count(s, sep string) int  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">func main() &#123;  </span><br><span class="line">    s := &quot;Hello,世界!!!!!&quot;  </span><br><span class="line">    n := strings.Count(s, &quot;!&quot;)  </span><br><span class="line">    fmt.Println(n) // 5  </span><br><span class="line">    n = strings.Count(s, &quot;!!&quot;)  </span><br><span class="line">    fmt.Println(n) // 2  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Contains<br>判断字符串 s 中是否包含子串 substr<br>如果 substr 为空，则返回 true<br>func ContainsRune(s string, r rune) bool</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">func main() &#123;  </span><br><span class="line">    s := &quot;Hello,世界!!!!!&quot;  </span><br><span class="line">    b := strings.Contains(s, &quot;!!&quot;)  </span><br><span class="line">    fmt.Println(b) // true  </span><br><span class="line">    b = strings.Contains(s, &quot;!?&quot;)  </span><br><span class="line">    fmt.Println(b) // false  </span><br><span class="line">    b = strings.Contains(s, &quot;&quot;)  </span><br><span class="line">    fmt.Println(b) // true  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ContainsAny<br>判断字符串 s 中是否包含 chars 中的任何一个字符<br>如果 chars 为空，则返回 true  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">func ContainsRune(s string, r rune) bool</span><br><span class="line">```</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>func main() {<br>    s := “Hello,世界!”<br>    b := strings.ContainsAny(s, “abc”)<br>    fmt.Println(b) // false<br>    b = strings.ContainsAny(s, “def”)<br>    fmt.Println(b) // true<br>    b = strings.Contains(s, “”)<br>    fmt.Println(b) // true<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">4. ContainsRune  </span><br><span class="line">ContainsRune 判断字符串 s 中是否包含字符 r</span><br></pre></td></tr></table></figure></p>
<p>func ContainsRune(s string, r rune) bool<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line">func main() &#123;  </span><br><span class="line">    s := &quot;Hello,世界!&quot;  </span><br><span class="line">    b := strings.ContainsRune(s, &apos;\n&apos;)  </span><br><span class="line">    fmt.Println(b) // false  </span><br><span class="line">    b = strings.ContainsRune(s, &apos;界&apos;)  </span><br><span class="line">    fmt.Println(b) // true  </span><br><span class="line">    b = strings.ContainsRune(s, 0)  </span><br><span class="line">    fmt.Println(b) // false  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<ol>
<li>Index<br>Index 返回子串 sep 在字符串 s 中第一次出现的位置<br>如果找不到，则返回 -1，如果 sep 为空，则返回 0  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">func Index(s, sep string) int</span><br><span class="line">```</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>func main() {<br>    s := “Hello,世界!”<br>    i := strings.Index(s, “h”)<br>    fmt.Println(i) // -1<br>    i = strings.Index(s, “H”)<br>    fmt.Println(i) // 0<br>    i = strings.Index(s, “!”)<br>    fmt.Println(i) // 12<br>    i = strings.Index(s, “”)<br>    fmt.Println(i) // 0<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">IndexFunc</span><br><span class="line">返回 s 中第一个满足 f(rune) 的字符的字节位置。  </span><br><span class="line">如果没有满足 f(rune) 的字符，则返回 -1</span><br></pre></td></tr></table></figure></p>
<p>func IndexFunc(s string, f func(rune) bool) int<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">```  </span><br><span class="line">func isSlash(r rune) bool &#123;  </span><br><span class="line">    return r == &apos;\\&apos; || r == &apos;/&apos;  </span><br><span class="line">&#125;  </span><br><span class="line">func main() &#123;  </span><br><span class="line">    s := &quot;C:\\Windows\\System32&quot;  </span><br><span class="line">    i := strings.IndexFunc(s, isSlash)  </span><br><span class="line">    fmt.Printf(&quot;%v\n&quot;, i) // 2  </span><br><span class="line">&#125;  </span><br><span class="line">```  </span><br><span class="line">LastIndexFunc  </span><br><span class="line">返回 s 中最后一个满足 f(rune) 的字符的字节位置  </span><br><span class="line">如果没有满足 f(rune) 的字符，则返回 -1</span><br></pre></td></tr></table></figure></p>
<p>func LastIndexFunc(s string, f func(rune) bool) int<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">6. LastIndex  </span><br><span class="line">返回 ==子串== sep 在字符串 s 中最后一次出现的位置  </span><br><span class="line">如果找不到，则返回 -1，如果 sep 为空，则返回字符串的长度  </span><br><span class="line">func LastIndex(s, sep string) int</span><br><span class="line">7. IndexRune  </span><br><span class="line">返回 ==字符== r 在字符串 s 中第一次出现的位置  </span><br><span class="line">如果找不到，则返回 -1  </span><br><span class="line">func IndexRune(s string, r rune) int</span><br><span class="line">8. IndexAny  </span><br><span class="line">返回字符串 chars 中的任何一个字符在字符串 s 中第一次出现的位置  </span><br><span class="line">如果找不到，则返回 -1，如果 chars 为空，则返回 -1  </span><br><span class="line">func IndexAny(s, chars string) int</span><br><span class="line">9. LastIndexAny</span><br><span class="line">10. Split  </span><br><span class="line">以 sep 为分隔符，将 s 切分成多个子切片，结果中不包含 sep 本身  </span><br><span class="line">如果 sep 为空，则将 s 切分成 Unicode 字符列表  </span><br><span class="line">如果 s 中没有 sep 子串，则将整个 s 作为 []string 的第一个元素返回  </span><br><span class="line">func Split(s, sep string) []string</span><br><span class="line">11. SplitN   </span><br><span class="line">如果 n 为 0，则返回 nil，如果 n 小于 0，则不限制切分个数，全部切分  </span><br><span class="line">func SplitN(s, sep string, n int) []string  </span><br><span class="line">12. SplitAfter  </span><br><span class="line">SplitAfter 以 sep 为分隔符，将 s 切分成多个子切片，结果中包含 sep 本身  </span><br><span class="line">如果 sep 为空，则将 s 切分成 Unicode 字符列表  </span><br><span class="line">如果 s 中没有 sep 子串，则将整个 s 作为 []string 的第一个元素返回</span><br></pre></td></tr></table></figure></p>
<p>func SplitAfter(s, sep string) []string<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">13. SplitAfterN  </span><br><span class="line">参数 n 表示最多切分出几个子串，超出的部分将不再切分  </span><br><span class="line">如果 n 为 0，则返回 nil，如果 n 小于 0，则不限制切分个数，全部切分</span><br></pre></td></tr></table></figure></p>
<p>func SplitAfterN(s, sep string, n int) []string<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">14. Fields  </span><br><span class="line">以连续的空白字符为分隔符，将 s 切分成多个子串，结果中不包含空白字符本身  </span><br><span class="line">空白字符有：\t, \n, \v, \f, \r, &apos; &apos;, U+0085 (NEL), U+00A0 (NBSP)  </span><br><span class="line">如果 s 中只包含空白字符，则返回一个空列表  </span><br><span class="line">func Fields(s string) []string</span><br><span class="line">15. FieldsFunc  </span><br><span class="line">以一个或多个满足 f(rune) 的字符为分隔符，  </span><br><span class="line">将 s 切分成多个子串，结果中不包含分隔符本身。  </span><br><span class="line">如果 s 中没有满足 f(rune) 的字符，则返回一个空列表。  </span><br><span class="line">func FieldsFunc(s string, f func(rune) bool) []string</span><br></pre></td></tr></table></figure></p>
<p>func isSlash(r rune) bool {<br>    return r == ‘\‘ || r == ‘/‘<br>}<br>func main() {<br>    s := “C:\Windows\System32\FileName”<br>    ss := strings.FieldsFunc(s, isSlash)<br>    fmt.Printf(“%q\n”, ss) // [“C:” “Windows” “System32” “FileName”]<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">16. Join  </span><br><span class="line">将 a 中的子串连接成一个单独的字符串，子串之间用 sep 分隔  </span><br><span class="line">func Join(a []string, sep string) string</span><br></pre></td></tr></table></figure></p>
<p>func main() {<br>    ss := []string{“Monday”, “Tuesday”, “Wednesday”}<br>    s := strings.Join(ss, “|”)<br>    fmt.Println(s)  // Monday|Tuesday|Wednesday<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">17. HasPrefix  </span><br><span class="line">判断字符串 s 是否以 prefix 开头</span><br></pre></td></tr></table></figure></p>
<p>func HasPrefix(s, prefix string) bool<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">18. HasSuffix  </span><br><span class="line">判断字符串 s 是否以 prefix 结尾</span><br></pre></td></tr></table></figure></p>
<p>func HasSuffix(s, suffix string) bool<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">19. Map  </span><br><span class="line">将 s 中满足 mapping(rune) 的字符替换为 mapping(rune) 的返回值。  </span><br><span class="line">如果 mapping(rune) 返回负数，则相应的字符将被删除</span><br></pre></td></tr></table></figure></p>
<p>func Map(mapping func(rune) rune, s string) string<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line">func mapping(r rune) rune &#123;  </span><br><span class="line">    if r == &apos;\\&apos; &#123;  </span><br><span class="line">        return &apos;/&apos;  </span><br><span class="line">    &#125;  </span><br><span class="line">    return r  </span><br><span class="line">&#125;  </span><br><span class="line">func main() &#123;  </span><br><span class="line">  </span><br><span class="line">    s := &quot;C:\\Windows\\System32\\FileName&quot;  </span><br><span class="line">    ms := strings.Map(mapping, s)  </span><br><span class="line">    fmt.Printf(&quot;%q\n&quot;, ms) // &quot;C:/Windows/System32/FileName&quot;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<ol>
<li><p>Repeat<br>将 count 个 s 字符串连接成一个新的字符串  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">func Repeat(s string, count int) string</span><br></pre></td></tr></table></figure>
</li>
<li><p>ToUpper / ToLower<br>将 s 中的所有字符修改为其大写/小写格式<br>对于非 ASCII 字符，它的大写/小写格式需要查表转换</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">func ToUpper(s string) string</span><br></pre></td></tr></table></figure>
</li>
<li><p>ToTitle<br>将 s 中的所有字符修改为其 Title 格式<br>大部分字符的 Title 格式就是其 Upper 格式<br>只有少数字符的 Title 格式是特殊字符<br>这里的 ToTitle 主要给 Title 函数调用  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">func ToTitle(s string) string</span><br><span class="line">```</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>func main() {<br>    s := “heLLo worLd Ａｂｃ”<br>    us := strings.ToUpper(s)<br>    ls := strings.ToLower(s)<br>    ts := strings.ToTitle(s)<br>    fmt.Printf(“%q\n”, us) // “HELLO WORLD ＡＢＣ”<br>    fmt.Printf(“%q\n”, ls) // “hello world ａｂｃ”<br>    fmt.Printf(“%q\n”, ts) // “HELLO WORLD ＡＢＣ”<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">23. 获取非 ASCII 字符的 Title 格式列表</span><br></pre></td></tr></table></figure></p>
<p>func main() {<br>    for _, cr := range unicode.CaseRanges {<br>        // u := uint32(cr.Delta[unicode.UpperCase]) // 大写格式<br>        // l := uint32(cr.Delta[unicode.LowerCase]) // 小写格式<br>        t := uint32(cr.Delta[unicode.TitleCase]) // Title 格式<br>        // if t != 0 &amp;&amp; t != u {<br>        if t != 0 {<br>            for i := cr.Lo; i &lt;= cr.Hi; i++ {<br>                fmt.Printf(“%c -&gt; %c\n”, i, i+t)<br>            }<br>        }<br>    }<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">24.  </span><br><span class="line">ToUpperSpecial  </span><br><span class="line">将 s 中的所有字符修改为其大写格式  </span><br><span class="line">优先使用 _case 中的规则进行转换</span><br></pre></td></tr></table></figure></p>
<p>func ToUpperSpecial(_case unicode.SpecialCase, s string) string<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ToLowerSpecial  </span><br><span class="line">将 s 中的所有字符修改为其小写格式。  </span><br><span class="line">优先使用 _case 中的规则进行转换</span><br></pre></td></tr></table></figure></p>
<p>func ToLowerSpecial(_case unicode.SpecialCase, s string) string<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ToTitleSpecial  </span><br><span class="line">将 s 中的所有字符修改为其 Title 格式。  </span><br><span class="line">优先使用 _case 中的规则进行转换</span><br></pre></td></tr></table></figure></p>
<p>func ToTitleSpecial(_case unicode.SpecialCase, s string) string<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">_case 规则说明，以下列语句为例：  </span><br><span class="line">unicode.CaseRange&#123;&apos;A&apos;, &apos;Z&apos;, [unicode.MaxCase]rune&#123;3, -3, 0&#125;&#125;  </span><br><span class="line">·其中 &apos;A&apos;, &apos;Z&apos; 表示此规则只影响 &apos;A&apos; 到 &apos;Z&apos; 之间的字符。  </span><br><span class="line">·其中 [unicode.MaxCase]rune 数组表示：  </span><br><span class="line">当使用 ToUpperSpecial 转换时，将字符的 Unicode 编码与第一个元素值（3）相加  </span><br><span class="line">当使用 ToLowerSpecial 转换时，将字符的 Unicode 编码与第二个元素值（-3）相加  </span><br><span class="line">当使用 ToTitleSpecial 转换时，将字符的 Unicode 编码与第三个元素值（0）相加  </span><br><span class="line">```  </span><br><span class="line">func main() &#123;  </span><br><span class="line">    // 定义转换规则  </span><br><span class="line">    var _MyCase = unicode.SpecialCase&#123;  </span><br><span class="line">        // 将半角逗号替换为全角逗号，ToTitle 不处理  </span><br><span class="line">        unicode.CaseRange&#123;&apos;,&apos;, &apos;,&apos;,  </span><br><span class="line">            [unicode.MaxCase]rune&#123;&apos;，&apos; - &apos;,&apos;, &apos;，&apos; - &apos;,&apos;, 0&#125;&#125;,  </span><br><span class="line">        // 将半角句号替换为全角句号，ToTitle 不处理  </span><br><span class="line">        unicode.CaseRange&#123;&apos;.&apos;, &apos;.&apos;,  </span><br><span class="line">            [unicode.MaxCase]rune&#123;&apos;。&apos; - &apos;.&apos;, &apos;。&apos; - &apos;.&apos;, 0&#125;&#125;,  </span><br><span class="line">        // 将 ABC 分别替换为全角的 ＡＢＣ、ａｂｃ，ToTitle 不处理  </span><br><span class="line">        unicode.CaseRange&#123;&apos;A&apos;, &apos;C&apos;,  </span><br><span class="line">            [unicode.MaxCase]rune&#123;&apos;Ａ&apos; - &apos;A&apos;, &apos;ａ&apos; - &apos;A&apos;, 0&#125;&#125;,  </span><br><span class="line">    &#125;  </span><br><span class="line">    s := &quot;ABCDEF,abcdef.&quot;  </span><br><span class="line">    us := strings.ToUpperSpecial(_MyCase, s)  </span><br><span class="line">    fmt.Printf(&quot;%q\n&quot;, us) // &quot;ＡＢＣDEF，ABCDEF。&quot;  </span><br><span class="line">    ls := strings.ToLowerSpecial(_MyCase, s)  </span><br><span class="line">    fmt.Printf(&quot;%q\n&quot;, ls) // &quot;ａｂｃdef，abcdef。&quot;  </span><br><span class="line">    ts := strings.ToTitleSpecial(_MyCase, s)  </span><br><span class="line">    fmt.Printf(&quot;%q\n&quot;, ts) // &quot;ABCDEF,ABCDEF.&quot;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<ol>
<li><p>Title<br>将 s 中的所有 ==单词== 的首字母修改为其 Title 格式<br>BUG: Title 规则不能正确处理 Unicode 标点符号  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">func Title(s string) string</span><br></pre></td></tr></table></figure>
</li>
<li><p>Trim<br>将删除 s 首尾连续的包含在 cutset 中的字符  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">func Trim(s string, cutset string) string</span><br><span class="line">```  </span><br><span class="line">TrimFunc  </span><br><span class="line">将删除 s 首尾连续的满足 f(rune) 的字符</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>func TrimFunc(s string, f func(rune) bool)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line">func isSlash(r rune) bool &#123;  </span><br><span class="line">    return r == &apos;\\&apos; || r == &apos;/&apos;  </span><br><span class="line">&#125;  </span><br><span class="line">func main() &#123;  </span><br><span class="line">    s := &quot;\\\\HostName\\C\\Windows\\&quot;  </span><br><span class="line">    ts := strings.TrimFunc(s, isSlash)  </span><br><span class="line">    fmt.Printf(&quot;%q\n&quot;, ts) // &quot;HostName\\C\\Windows&quot;  </span><br><span class="line">&#125;  </span><br><span class="line">```  </span><br><span class="line">TrimLeftFunc  </span><br><span class="line">将删除 s 头部连续的满足 f(rune) 的字符</span><br></pre></td></tr></table></figure></p>
<p>func TrimLeftFunc(s string, f func(rune) bool) string<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">TrimRightFunc  </span><br><span class="line">将删除 s 尾部连续的满足 f(rune) 的字符</span><br></pre></td></tr></table></figure></p>
<p>func TrimRightFunc(s string, f func(rune) bool) string<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line">func isSlash(r rune) bool &#123;  </span><br><span class="line">    return r == &apos;\\&apos; || r == &apos;/&apos;  </span><br><span class="line">&#125;  </span><br><span class="line">func main() &#123;  </span><br><span class="line">    s := &quot;\\\\HostName\\C\\Windows\\&quot;  </span><br><span class="line">    ts := strings.TrimRightFunc(s, isSlash)  </span><br><span class="line">    fmt.Printf(&quot;%q\n&quot;, ts) // &quot;\\\\HostName\\C\\Windows&quot;  </span><br><span class="line">&#125;</span><br><span class="line">```  </span><br><span class="line">TrimSpace   </span><br><span class="line">将删除 s 首尾连续的的空白字符</span><br><span class="line">27. TrimPrefix  </span><br><span class="line">删除 s 头部的 prefix 字符串  </span><br><span class="line">如果 s 不是以 prefix 开头，则返回原始 s</span><br></pre></td></tr></table></figure></p>
<p>func TrimPrefix(s, prefix string) string<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">TrimSuffix  </span><br><span class="line">删除 s 尾部的 suffix 字符串  </span><br><span class="line">如果 s 不是以 suffix 结尾，则返回原始 s</span><br></pre></td></tr></table></figure></p>
<p>func TrimSuffix(s, suffix string) string<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt; 注：TrimSuffix只是去掉s字符串结尾的suffix字符串，只是去掉１次，  </span><br><span class="line">而TrimRight是一直去掉s字符串右边的字符串，只要有响应的字符串就去掉，  </span><br><span class="line">是一个多次的过程，这也是二者的本质区别．</span><br><span class="line">---</span><br><span class="line">28. Replace  </span><br><span class="line">返回 s 的副本，并将副本中的 old 字符串替换为 new 字符串  </span><br><span class="line">替换次数为 n 次，如果 n 为 -1，则全部替换  </span><br><span class="line">如果 old 为空，则在副本的每个字符之间都插入一个 new</span><br></pre></td></tr></table></figure></p>
<p>func Replace(s, old, new string, n int) string<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">29. EqualFold  </span><br><span class="line">判断 s 和 t 是否相等。忽略大小写，同时它还会对特殊字符进行转换  </span><br><span class="line">比如将“ϕ”转换为“Φ”、将“Ǆ”转换为“ǅ”等，然后再进行比较</span><br></pre></td></tr></table></figure></p>
<p>func EqualFold(s, t string) bool</p>
<h2 id=""><a href="#" class="headerlink" title="```  "></a>```  </h2><p>  <a href="http://blog.csdn.net/chenbaoke/article/details/40318423" target="_blank" rel="noopener">参考来源</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="shiruitao.github.io/2018/01/27/golang的strings原码/" data-id="cjcy5sqtr0000xmhnlw5dpgwj" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/go笔记/">go笔记</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-发表文章" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/01/26/发表文章/" class="article-date">
  <time datetime="2018-01-26T07:10:29.000Z" itemprop="datePublished">2018-01-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/01/26/发表文章/">发表文章</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="原文教程"><a href="#原文教程" class="headerlink" title="原文教程"></a><a href="https://www.jianshu.com/p/e99ed60390a8" target="_blank" rel="noopener">原文教程</a></h2><h2 id="官方文档"><a href="#官方文档" class="headerlink" title="官方文档"></a><a href="https://hexo.io/zh-cn/docs/index.html" target="_blank" rel="noopener">官方文档</a></h2><hr>
<ol>
<li>进入你的<folder>/source/_posts目录(默认目录),如果更改过,进入相应目录</folder></li>
<li><p>在terminal中,用命令新建markdown文件,打开编辑即可.如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new &quot;name&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>也可以手动添加Markdown文件在source/_deploy文件夹下</p>
</li>
<li><p>保存后，我们先可以进行本地发布:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
</li>
<li><p>将博客部署到网上</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="shiruitao.github.io/2018/01/26/发表文章/" data-id="cjcy5sqtw0001xmhnr3pngix4" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/教程/">教程</a></li></ul>

    </footer>
  </div>
  
</article>


  

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/go笔记/">go笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/教程/">教程</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/go笔记/" style="font-size: 10px;">go笔记</a> <a href="/tags/教程/" style="font-size: 10px;">教程</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/01/27/golang的strings原码/">golang的strings原码</a>
          </li>
        
          <li>
            <a href="/2018/01/26/发表文章/">发表文章</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 Shi Ruitao<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>